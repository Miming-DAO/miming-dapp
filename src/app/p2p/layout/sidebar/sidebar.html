@if (mobileMenuOpen) {
<div (click)="mobileMenuOpen = false" class="lg:hidden fixed inset-0 bg-black/50 z-20"></div>
}

<div [class.translate-x-0]="mobileMenuOpen"
  class="w-64 min-h-screen backdrop-blur-xl bg-slate-900/95 lg:bg-slate-900/40 border-r border-purple-500/20 p-4 fixed lg:static top-0 left-0 z-30 transition-transform duration-300 -translate-x-full lg:translate-x-0 overflow-y-auto">
  <button (click)="mobileMenuOpen = false" class="lg:hidden w-full flex justify-end mb-4 cursor-pointer">
    <i class="pi pi-times text-white text-xl"></i>
  </button>
  <div class="space-y-6">

    <!-- Marketplace -->
    <div class="space-y-2">
      <button (click)="setActiveMenu('marketplace')" [class.bg-gradient-to-r]="activeMenu === 'marketplace'"
        [class.from-purple-600]="activeMenu === 'marketplace'" [class.to-pink-600]="activeMenu === 'marketplace'"
        [class.text-white]="activeMenu === 'marketplace'"
        class="w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 hover:cursor-pointer hover:bg-slate-800/50 text-slate-300 hover:text-white group">
        <i class="pi pi-shopping-cart text-lg" [class.text-white]="activeMenu === 'marketplace'"></i>
        <div class="text-left">
          <div class="font-semibold">Marketplace</div>
          <div class="text-xs opacity-70">Browse offers</div>
        </div>
      </button>

      <button (click)="setActiveMenu('orders')" [class.bg-gradient-to-r]="activeMenu === 'orders'"
        [class.from-purple-600]="activeMenu === 'orders'" [class.to-pink-600]="activeMenu === 'orders'"
        [class.text-white]="activeMenu === 'orders'"
        class="w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 hover:cursor-pointer hover:bg-slate-800/50 text-slate-300 hover:text-white group">
        <i class="pi pi-list text-lg" [class.text-white]="activeMenu === 'orders'"></i>
        <div class="text-left">
          <div class="font-semibold">Orders</div>
          <div class="text-xs opacity-70">Track transactions</div>
        </div>
      </button>

      <button (click)="setActiveMenu('my-ads')" [class.bg-gradient-to-r]="activeMenu === 'my-ads'"
        [class.from-purple-600]="activeMenu === 'my-ads'" [class.to-pink-600]="activeMenu === 'my-ads'"
        [class.text-white]="activeMenu === 'my-ads'"
        class="w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 hover:cursor-pointer hover:bg-slate-800/50 text-slate-300 hover:text-white group">
        <i class="pi pi-megaphone text-lg" [class.text-white]="activeMenu === 'my-ads'"></i>
        <div class="text-left">
          <div class="font-semibold">My Ads</div>
          <div class="text-xs opacity-70">Manage listings</div>
        </div>
      </button>

      <button (click)="setActiveMenu('messages')" [class.bg-gradient-to-r]="activeMenu === 'messages'"
        [class.from-purple-600]="activeMenu === 'messages'" [class.to-pink-600]="activeMenu === 'messages'"
        [class.text-white]="activeMenu === 'messages'"
        class="w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 hover:cursor-pointer hover:bg-slate-800/50 text-slate-300 hover:text-white group">
        <i class="pi pi-comments text-lg" [class.text-white]="activeMenu === 'messages'"></i>
        <div class="text-left">
          <div class="font-semibold">Messages</div>
          <div class="text-xs opacity-70">Chat history</div>
        </div>
      </button>
    </div>

    <!-- Quick Stats -->
    <div class="pt-2 border-t border-purple-500/20">
      <div class="text-xs text-slate-500 uppercase tracking-wider px-4 mb-2">Quick Stats</div>
      <div class="space-y-2 px-4">
        <div class="flex justify-between text-sm">
          <span class="text-slate-400">Active Ads</span>
          <span class="text-white font-semibold">3</span>
        </div>
        <div class="flex justify-between text-sm">
          <span class="text-slate-400">Total Orders</span>
          <span class="text-white font-semibold">127</span>
        </div>
        <div class="flex justify-between text-sm">
          <span class="text-slate-400">Completion</span>
          <span class="text-green-400 font-semibold">98.5%</span>
        </div>
      </div>
    </div>

    <!-- Admin Console -->
    @if (isAdmin) {
    <div class="pt-4 border-t border-purple-500/20 mt-4">
      <button (click)="navigateToAdminConsole()"
        class="w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all duration-300 hover:cursor-pointer bg-gradient-to-r from-orange-600 to-red-600 hover:from-orange-700 hover:to-red-700 text-white shadow-lg cursor-pointer">
        <i class="pi pi-shield text-lg"></i>
        <div class="text-left">
          <div class="font-semibold">Admin Console</div>
          <div class="text-xs opacity-90">Manage platform</div>
        </div>
      </button>
    </div>
    }
  </div>
</div>
